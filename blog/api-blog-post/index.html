<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.ca1d77017c49fa6b22bc.css" data-identity="gatsby-global-css">/*! tailwindcss v2.2.16 | MIT License | https://tailwindcss.com*/

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */html{-webkit-text-size-adjust:100%;line-height:1.15;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;margin:0}hr{color:inherit;height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],button{-webkit-appearance:button}legend{padding:0}progress{vertical-align:baseline}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{font-family:inherit;line-height:inherit}*,:after,:before{border:0 solid;box-sizing:border-box}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a1a1aa;opacity:1}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a1a1aa;opacity:1}input::placeholder,textarea::placeholder{color:#a1a1aa;opacity:1}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{color:inherit;line-height:inherit;padding:0}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{border-color:currentColor}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.top-0{top:0}.bottom-0{bottom:0}.left-0{left:0}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.m-3{margin:.75rem}.mx-3{margin-left:.75rem;margin-right:.75rem}.mx-5{margin-left:1.25rem;margin-right:1.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-3{margin-bottom:.75rem;margin-top:.75rem}.my-4{margin-bottom:1rem;margin-top:1rem}.my-5{margin-bottom:1.25rem;margin-top:1.25rem}.mt-1{margin-top:.25rem}.mt-3{margin-top:.75rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.mt-12{margin-top:3rem}.mt-20{margin-top:5rem}.mr-2{margin-right:.5rem}.ml-2{margin-left:.5rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.hidden{display:none}.h-8{height:2rem}.h-12{height:3rem}.h-px{height:1px}.h-full{height:100%}.w-12{width:3rem}.w-auto{width:auto}.w-full{width:100%}.max-w-none{max-width:none}.flex-1{flex:1 1 0%}.transform{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}@keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}.resize-none{resize:none}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-2{border-width:2px}.border-t-2{border-top-width:2px}.border-dashed{border-style:dashed}.border-color-2{--tw-border-opacity:1;border-color:rgba(69,79,91,var(--tw-border-opacity))}.border-primary{--tw-border-opacity:1;border-color:rgba(255,255,255,var(--tw-border-opacity))}.border-secondary{--tw-border-opacity:1;border-color:rgba(243,243,243,var(--tw-border-opacity))}.hover\:border-primary:hover{--tw-border-opacity:1;border-color:rgba(255,255,255,var(--tw-border-opacity))}.bg-bg{background-color:rgba(25,31,38,var(--tw-bg-opacity))}.bg-bg,.bg-bgalt{--tw-bg-opacity:1}.bg-bgalt{background-color:rgba(0,0,0,var(--tw-bg-opacity))}.stroke-current{stroke:currentColor}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-2px{padding:2px}.px-0{padding-left:0;padding-right:0}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-16{padding-left:4rem;padding-right:4rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.py-6{padding-bottom:1.5rem;padding-top:1.5rem}.py-12{padding-bottom:3rem;padding-top:3rem}.pt-1{padding-top:.25rem}.pt-3{padding-top:.75rem}.pt-24{padding-top:6rem}.pr-12{padding-right:3rem}.pb-6{padding-bottom:1.5rem}.pb-20{padding-bottom:5rem}.pb-24{padding-bottom:6rem}.pl-2{padding-left:.5rem}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-lg{font-size:1.125rem}.text-lg,.text-xl{line-height:1.75rem}.text-xl{font-size:1.25rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-7xl{font-size:5rem}.font-bold{font-weight:700}.text-color-default{--tw-text-opacity:1;color:rgba(243,243,243,var(--tw-text-opacity))}.text-color-1{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.text-color-3{--tw-text-opacity:1;color:rgba(113,221,191,var(--tw-text-opacity))}.text-primary{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.text-secondary{--tw-text-opacity:1;color:rgba(243,243,243,var(--tw-text-opacity))}.text-link{--tw-text-opacity:1;color:rgba(113,221,191,var(--tw-text-opacity))}.focus\:text-primary:focus,.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.opacity-80{opacity:.8}.hover\:opacity-100:hover{opacity:1}*,:after,:before{--tw-shadow:0 0 #0000}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04)}.focus\:shadow-2xl:focus,.hover\:shadow-2xl:hover,.shadow-2xl,.shadow-xl{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.focus\:shadow-2xl:focus,.hover\:shadow-2xl:hover,.shadow-2xl{--tw-shadow:0 25px 50px -12px rgba(0,0,0,0.25)}.focus\:outline-none:focus,.outline-none{outline:2px solid transparent;outline-offset:2px}*,:after,:before{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}.filter{--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition{transition-duration:.15s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.bg-gradient-primary{background-image:linear-gradient(90deg,#fff,#f3f3f3)}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}:root{--deckgo-highlight-code-carbon-toolbar-display:none;--deckgo-highlight-code-carbon-overflow:scroll;--deckgo-highlight-code-scroll:scroll;--deckgo-highlight-code-width:max-content;--deckgo-highlight-code-carbon-margin:30px 20px}body{font-family:Karla,sans-serif;font-size:16px}p{line-height:165%}.boxed{margin-left:auto;margin-right:auto;max-width:1024px;padding-left:1rem;padding-right:1rem;width:100%}.large-container{max-width:2100px}@media (min-width:1024px){.boxed{max-width:768px}}@media (min-width:1280px){.boxed{max-width:1024px}}.nav .nav-links li{display:inline-block;margin-left:.5rem;margin-right:.5rem;position:relative}.nav .nav-links li a{display:inline-block;padding:.25rem;position:relative;z-index:10}.nav .nav-links li:before{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));border-radius:9999px;bottom:0;content:"";height:0;left:0;margin:auto;opacity:.25;position:absolute;right:0;top:0;transition:width .25s,height .25s;width:0}.nav .nav-links li.active a,.nav .nav-links li:hover a{color:#71ddbf}.nav .nav-links .theme-switcher:before{display:none}.nav .line{--tw-border-opacity:1;border-bottom:2px dashed;border-bottom-color:rgba(69,79,91,var(--tw-border-opacity));border-left-color:rgba(69,79,91,var(--tw-border-opacity));border-right-color:rgba(69,79,91,var(--tw-border-opacity));border-top-color:rgba(69,79,91,var(--tw-border-opacity));transition:width .5s;width:0}.nav.scrolled .line{width:100%}.title h1{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.btn{align-items:center;display:inline-flex;height:3rem;outline:2px solid transparent;outline-offset:2px;overflow:hidden;padding-left:1.5rem;padding-right:1.5rem;position:relative}.btn.disabled{opacity:.5}.btn span{position:relative;z-index:10}.btn .icon-right{margin-left:.75rem}.btn .icon-left{margin-right:.75rem}.btn:focus{--tw-bg-opacity:1;background-color:rgba(69,79,91,var(--tw-bg-opacity));outline:2px solid transparent;outline-offset:2px}.btn-primary{color:#000;margin-bottom:1rem;margin-top:1rem}.btn-primary,.btn-primary:before{--tw-bg-opacity:1;background-color:rgba(113,221,191,var(--tw-bg-opacity))}.btn-primary:focus:before,.btn-primary:hover:before{left:0}.footer-links li{margin-left:.75rem;margin-right:.75rem}.animated-link-parent a{display:inline-block;position:relative}.animated-link-parent a:after{background-image:linear-gradient(90deg,#fff,#f3f3f3);bottom:0;content:"";height:2px;left:0;position:absolute;transition-duration:.3s;transition-property:width;width:0}.animated-link-parent a:active:after,.animated-link-parent a:focus:after,.animated-link-parent a:hover:after{width:100%}.post-content p{margin-bottom:.75rem;margin-top:.75rem}.post-content h1,h2,h3,h4,h5,h6{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));margin-bottom:2rem;margin-top:2rem}.post-content h1{font-size:3rem;line-height:1}.post-content h2{font-size:2.25rem;line-height:2.5rem}.post-content h3{font-size:1.875rem;line-height:2.25rem}.post-content h4{font-size:1.5rem;line-height:2rem}.post-content h5{font-size:1.25rem;font-size:1.125rem;line-height:1.75rem}.post-content hr{--tw-border-opacity:1;border-color:rgba(207,216,220,var(--tw-border-opacity));margin-bottom:1rem;margin-top:1rem}.post-content ul{list-style:disc}.post-content ol{list-style:decimal}.post-content ol,.post-content ul{margin-left:1rem}.post-content ol ol,.post-content ul ul{margin-left:.75rem}.post-content li{margin-bottom:.5rem;margin-left:1.5rem;margin-top:.5rem}.post-content table{margin-bottom:1.5rem;margin-top:1.5rem;width:100%}.post-content table tr{--tw-border-opacity:1;border-bottom:2px solid #eee;border-bottom-color:rgba(207,216,220,var(--tw-border-opacity));border-left-color:rgba(207,216,220,var(--tw-border-opacity));border-right-color:rgba(207,216,220,var(--tw-border-opacity));border-top-color:rgba(207,216,220,var(--tw-border-opacity))}.theme-dark .post-content table tr{border-bottom:2px solid #444}.post-content table tr td,.post-content table tr th{padding:.75rem .5rem;text-align:left}.post-content blockquote{--tw-border-opacity:1;border-color:rgba(255,255,255,var(--tw-border-opacity));border-left-width:4px;margin:1.5rem 0;padding:0 .75rem}.post-content iframe{max-width:100%}.input.focused{padding-left:1rem;padding-right:1rem}.spin{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media (max-width:640px){html{font-size:15px}}.post-content a{--tw-text-opacity:1;color:rgba(113,221,191,var(--tw-text-opacity));margin-bottom:1rem;margin-top:1rem}.post-content pre{background-color:#333;color:#fff;margin:2rem;overflow:scroll;padding:1rem}.post-content img{margin:3rem}.int-title{color:#fff!important}.integration-list{background-color:#fff;margin:30px auto auto;width:90%}.integration-list td{border:3px solid #f8f8f8;padding:8px 13px;vertical-align:top}.integration-list th{border:3px solid #f8f8f8;padding:10px}.int-desc{width:50%}.table-of-contents{background-color:hsla(0,0%,100%,.1);float:right;margin:10px 0 10px 20px;padding:10px 0}.table-of-contents ol{counter-reset:tocnum;list-style:none;margin-left:0;padding-left:10px}.table-of-contents ol li{counter-increment:tocnum;line-height:100%;margin-left:10px;padding-left:0;padding-right:10px}.table-of-contents ol li:before{content:counters(tocnum,".") ". ";font-weight:700}code{background-color:hsla(0,0%,100%,.1);font-size:.85rem;padding:.25rem .5rem}h1,h2,h3,h4,h5,h6{margin-bottom:1.5rem;margin-top:1.5rem}.blog-item{background-color:hsla(0,0%,100%,.1)}.nowrap{white-space:nowrap}@media (min-width:640px){.sm\:w-full{width:100%}}@media (min-width:768px){.md\:-mt-16{margin-top:-4rem}.md\:w-1\/2{width:50%}.md\:w-11\/12{width:91.666667%}.md\:px-4{padding-left:1rem;padding-right:1rem}}@media (min-width:1024px){.lg\:order-1{order:1}.lg\:order-2{order:2}.lg\:order-3{order:3}.lg\:order-4{order:4}.lg\:order-5{order:5}.lg\:box-content{box-sizing:content-box}.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:h-auto{height:auto}.lg\:w-1\/2{width:50%}.lg\:w-1\/3{width:33.333333%}.lg\:w-3\/4{width:75%}.lg\:w-full{width:100%}.lg\:justify-between{justify-content:space-between}.lg\:p-4{padding:1rem}.lg\:px-0{padding-left:0;padding-right:0}.lg\:py-14{padding-bottom:3.5rem}.lg\:pt-14,.lg\:py-14{padding-top:3.5rem}.lg\:pr-12{padding-right:3rem}.lg\:pl-8{padding-left:2rem}.lg\:pl-12{padding-left:3rem}.lg\:text-left{text-align:left}.lg\:text-xl{font-size:1.25rem;line-height:1.75rem}.lg\:text-2xl{font-size:1.5rem;line-height:2rem}.lg\:text-4xl{font-size:2.25rem;line-height:2.5rem}.lg\:text-6xl{font-size:3.75rem;line-height:1}.lg\:text-color-default{--tw-text-opacity:1;color:rgba(243,243,243,var(--tw-text-opacity))}}</style><meta name="generator" content="Gatsby 3.14.1"/><title data-react-helmet="true">Exploring the Marquez Lineage API | Marquez</title><link data-react-helmet="true" rel="icon" href="/images/icon.svg" type="image/png"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Karla&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="How to use the API behind Marquez to explore datasets, jobs, and lineage"/><meta data-react-helmet="true" property="og:title" content="Exploring the Marquez Lineage API"/><meta data-react-helmet="true" property="og:description" content="How to use the API behind Marquez to explore datasets, jobs, and lineage"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@marquezproject"/><meta data-react-helmet="true" name="twitter:title" content="Exploring the Marquez Lineage API"/><meta data-react-helmet="true" name="twitter:description" content="How to use the API behind Marquez to explore datasets, jobs, and lineage"/><meta data-react-helmet="true" property="og:image" content="/static/7e8a682e64ac1c77c2d03438a02a28d7/banner.svg"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link as="script" rel="preload" href="/webpack-runtime-381590b05a30c0c6b02e.js"/><link as="script" rel="preload" href="/framework-0a19e5c2f20522c0675d.js"/><link as="script" rel="preload" href="/app-362bd674f08f21641d7a.js"/><link as="script" rel="preload" href="/commons-160ea55db53334d242c4.js"/><link as="script" rel="preload" href="/03af1e3b4838e2bf1feefdfdd4602b9a79f8e4c9-eb104fccfa73bc3dade9.js"/><link as="script" rel="preload" href="/component---src-templates-blog-tsx-6c41e7024dcdbf7fa067.js"/><link as="fetch" rel="preload" href="/page-data/blog/api-blog-post/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1139857438.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1946588481.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2083862410.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2213455283.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2418326273.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3067102388.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="wrapper theme-light"><div class="text-color-default bg-bg"><div class="duration-300 transition-all flex justify-center lg:justify-between items-center z-20 fixed w-full nav p-5"><button class="absolute text-primary outline-0 lg:hidden" style="transform:translateY(-50%);top:50%;left:10px"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button><div class="r-swipe-sidebar-container" style="position:absolute"><div class="r-swipe-sidebar" style="position:fixed;left:-100%;width:70%;height:100%;top:0;z-index:9999;transition-property:left;transition-duration:0s;transition-timing-function:linear;transform:translate3d(0,0,0)"><div class="bg-bg h-full flex flex-col justify-center relative"><div class="absolute top-0 my-4 text-center w-full"><a title="Marquez" class="inline-block" href="/"><img src="/images/logo-lfai.svg" alt="Marquez - logo" class="duration-300 transition-all h-12"/></a></div><div class="text-center"><ul class=""><li class="block my-2 "><a title="Home" class="text-color-1 focus:text-primary" href="/"><span>Home</span></a></li><li class="block my-2 "><a title="About" class="text-color-1 focus:text-primary" href="/about"><span>About</span></a></li><li class="block my-2 "><a title="Quickstart" class="text-color-1 focus:text-primary" href="/quickstart"><span>Quickstart</span></a></li><li class="block my-2 "><a title="Resources" class="text-color-1 focus:text-primary" href="/resources"><span>Resources</span></a></li><li class="block my-2 active"><a title="Blog" class="text-color-1 focus:text-primary" href="/blog"><span>Blog</span></a></li></ul></div></div></div><div class="r-swipe-sidebar-overlay" role="button" tabindex="-1" style="position:fixed;top:0;bottom:0;left:-100%;width:100%;height:100%;background:#000;z-index:9998;transition-property:opacity;transition-duration:0s;opacity:0"></div></div><a title="Marquez" href="/"><img src="/images/logo-lfai.svg" alt="Marquez - logo" class="duration-300 transition-all h-12"/></a><div class="hidden lg:block"><ul class="nav-links flex"><li class=" "><a title="Home" class="text-color-1 focus:text-primary" href="/"><span>Home</span></a></li><li class=" "><a title="About" class="text-color-1 focus:text-primary" href="/about"><span>About</span></a></li><li class=" "><a title="Quickstart" class="text-color-1 focus:text-primary" href="/quickstart"><span>Quickstart</span></a></li><li class=" "><a title="Resources" class="text-color-1 focus:text-primary" href="/resources"><span>Resources</span></a></li><li class=" active"><a title="Blog" class="text-color-1 focus:text-primary" href="/blog"><span>Blog</span></a></li></ul></div><div class="absolute line h-px left-0 bottom-0 bg-gradient-primary"></div></div><div style="height:0px"></div><div class="md:px-4 mt-12 py-6 md:w-11/12 mx-auto"><div class="mx-auto relative"><img src="/static/7e8a682e64ac1c77c2d03438a02a28d7/banner.svg" alt="&#x27;&#x27;"/><div class="relative w-full lg:w-3/4 md:w-11/12 sm:w-full p-6 box-border lg:box-content mx-auto bg-bg text-color-default blog-wall-content shadow-xl md:-mt-16 "><div class="p-3"><h1 class="text-5xl font-bold text-primary">Exploring the Marquez Lineage API</h1><p class="mt-1 flex"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <span class="ml-2">14 July 2021<!-- --> by <!-- -->Michael Robinson</span></p><p class="mt-3">How to use the API behind Marquez to explore datasets, jobs, and lineage</p></div></div></div><div class="lg:w-3/4 md:w-11/12 sm:w-full p-3 mx-auto mt-12 post-content"><h2 id="background">Background</h2><p>If you’re a Marquez user, then you might already know that the project is an open source metadata service for the collection, aggregation, and visualization of a data ecosystem’s metadata. Based on the OpenLineage standard, it solves a hard problem: representing data pipeline lineage holistically and agnostically – or, more precisely, as holistically and agnostically as possible (lineage being above all else a pursuit).</p><p>But did you know that Marquez is also a metadata <em>server</em> that offers an OpenLineage-compatible endpoint for real-time metadata collection? </p><p>The key to the Marquez metadata server is the Marquez Lineage API, a REST API that offers users the ability to retrieve, modify, and add to the metadata about their pipelines in the Marquez database. In response to queries, the API emits JSON via HTTP.</p><h2 id="marquez-api-functionality">Marquez API Functionality</h2><table><thead><tr><th><em>Namespace</em></th><th><em>Source</em></th><th><em>Dataset</em></th><th><em>Job</em></th><th><em>Lineage</em></th><th><em>Tags</em></th><th><em>Search</em></th></tr></thead><tbody><tr><td>Retrieve a namespace</td><td>Retrieve a source</td><td>Retrieve a dataset</td><td>Retrieve a job</td><td>Record a single lineage event</td><td>Create a tag</td><td>Query all datasets and jobs</td></tr><tr><td>List all namespaces</td><td>List all sources</td><td>Retrieve a dataset version</td><td>List all jobs</td><td>Get a lineage graph</td><td>List all tags</td><td></td></tr><tr><td>Create a namespace</td><td></td><td>List all dataset versions</td><td>List all job versions</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>List all datasets</td><td>Retrieve a run</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>Tag a dataset</td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>Tag a field</td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="how-to-use">How to Use</h2><h3 id="prerequisites">Prerequisites</h3><ul><li>Docker 17.05+</li><li>Docker Compose 1.29.1+</li><li>Git (preinstalled on most versions of MacOS; verify with <code>git version</code>)</li><li>4 GB of available memory (the minimum for Docker — more is strongly recommended)</li></ul><h3 id="install-and-run-marquez">Install and Run Marquez</h3><ol><li>Clone the Marquez Github <a href="https://github.com/MarquezProject/marquez">repository</a>: <code>git clone https://github.com/MarquezProject/marquez.git</code></li><li>Start Docker</li><li>Run Marquez with seed data: <code>cd marquez &amp;&amp; ./docker/up.sh --seed</code></li></ol><h3 id="explore-marquez">Explore Marquez</h3><p>Point your browser to <code>http://localhost:3000</code>.</p><p>As you explore the UI, you’ll notice a namespace (<code>ns</code>) dropdown on the top and job and dataset icons on the left. Everything viewable here is also queryable via the API.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1200px">
      <a class="gatsby-resp-image-link" href="/static/94510f0c5a96f6741e367554e4a4286d/dcb79/marquez_ui.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:48.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPElEQVQoz32RXW7DIBCEfYomjgO2sQHjP5w0SaX2BD1N33r9qXYxyI6qPKxYYHd2Psjy0iDGUWr0ywP+9oXGLTiIdnd3qizMeOUa5+9oOs91vX/ATu8olEP2/fuD47lFXlluogJlZ27eDqM9RVF3EMrhrFzaU04r7TPz8clC7EJoqGGBdDPykhwFIbpXnWdXB9GgXYcSAbkl13Fw9nZSQWzFEnZEOfg0sagtTqVBZUaY4cqDAqrnXA+XgFsHgizfoJEguZPdxCIRk+5qO3FjfBZySXk33eDme6glh7tPEaugm1PBVpCaj7JlsbbfCPp7qkuCEZncVeMCYQYUqkNRReQpvJXcIEvNZ4xcReQnwbMZ2WHRuB1yqYeEWZuJHVNOTnV/4Q/cO4w/LXWKfD3bnr/K/xV8FnhueJVT/AFkIBl27c1fjQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Marquez UI" title="Marquez UI" src="/static/94510f0c5a96f6741e367554e4a4286d/c1b63/marquez_ui.png" srcSet="/static/94510f0c5a96f6741e367554e4a4286d/5a46d/marquez_ui.png 300w,/static/94510f0c5a96f6741e367554e4a4286d/0a47e/marquez_ui.png 600w,/static/94510f0c5a96f6741e367554e4a4286d/c1b63/marquez_ui.png 1200w,/static/94510f0c5a96f6741e367554e4a4286d/dcb79/marquez_ui.png 1700w" sizes="(max-width: 1200px) 100vw, 1200px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><h3 id="query-the-api">Query the API</h3><h4 id="view-all-namespaces">View all Namespaces</h4><p>In the OpenLineage spec, the namespace is at the top of the naming hierarchy. Practically speaking, namespaces are global contexts for jobs and datasets. In the case of a job, the namespace is related to the scheduler. In the case of a dataset, the namespace is the unique name of the dataset’s datasource. </p><p>To view all the currently available namespaces (prettified) in the terminal, you could use: <code>curl http://localhost:5000/api/v1/namespaces | jq</code>.</p><p>If you started Marquez with seed data, you will see <code>food_delivery</code> in the output along with key data points about the namespace.</p><h4 id="namespaces-query-output">Namespaces Query Output</h4><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;namespaces&quot;: [
    {
      &quot;name&quot;: &quot;default&quot;,
      &quot;createdAt&quot;: &quot;2022-07-12T16:22:11.080346Z&quot;,
      &quot;updatedAt&quot;: &quot;2022-07-12T16:22:11.080346Z&quot;,
      &quot;ownerName&quot;: &quot;anonymous&quot;,
      &quot;description&quot;: &quot;The default global namespace for dataset, job, and run metadata not belonging to a user-specified namespace.&quot;
    },
    {
      &quot;name&quot;: &quot;food_delivery&quot;,
      &quot;createdAt&quot;: &quot;2022-07-12T16:22:12.518454Z&quot;,
      &quot;updatedAt&quot;: &quot;2022-07-12T16:22:23.724885Z&quot;,
      &quot;ownerName&quot;: &quot;owner@food.com&quot;,
      &quot;description&quot;: &quot;Food delivery example!&quot;
    }
  ]
}</code>
        </deckgo-highlight-code><p>Every other API call has to include a namespace, so it’s important to know which namespace(s) you care about.</p><h4 id="specify-a-known-namespace">Specify a Known Namespace</h4><p>Let’s say you wanted more streamlined output and you already knew about the <code>food_delivery</code> namespace. Queries about known namespaces are also supported: <code>http://localhost:5000/api/v1/namespaces/{namespace}</code>.</p><p>For data about the <code>food_delivery</code> namespace, you could use: <code>curl http://localhost:5000/api/v1/namespaces/food_delivery | jq</code>.</p><p>In this case you’ll see the name, time of creation, time of last update, owner, and description of only the namespace you provided.</p><h4 id="namespace-output">Namespace Output</h4><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;name&quot;: &quot;food_delivery&quot;,
  &quot;createdAt&quot;: &quot;2022-07-12T16:22:12.518454Z&quot;,
  &quot;updatedAt&quot;: &quot;2022-07-12T16:22:23.724885Z&quot;,
  &quot;ownerName&quot;: &quot;owner@food.com&quot;,
  &quot;description&quot;: &quot;Food delivery example!&quot;
}</code>
        </deckgo-highlight-code><h4 id="view-key-data-about-a-dataset">View Key Data about a Dataset</h4><p>Knowing the available namespaces allows you to query the API for information about all the datasets in a namespace.</p><p>For example, to see all the datasets in the <code>food_delivery</code> namespace, you would use the following format: <code>http://localhost:5000/api/v1/namespaces/{namespace}/datasets</code>.</p><p>To view all the datasets in <code>food_delivery</code> you could use: <code>curl http://localhost:5000/api/v1/namespaces/food_delivery/datasets | jq</code>.</p><h4 id="datasets-query-output-excerpt">Datasets Query Output (excerpt)</h4><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;totalCount&quot;: 13,
  &quot;datasets&quot;: [
    {
      &quot;id&quot;: {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.categories&quot;
      },
      &quot;type&quot;: &quot;DB_TABLE&quot;,
      &quot;name&quot;: &quot;public.categories&quot;,
      &quot;physicalName&quot;: &quot;public.categories&quot;,
      &quot;createdAt&quot;: &quot;2022-07-12T16:22:12.792434Z&quot;,
      &quot;updatedAt&quot;: &quot;2022-07-12T16:24:33.355699Z&quot;,
      &quot;namespace&quot;: &quot;food_delivery&quot;,
      &quot;sourceName&quot;: &quot;analytics_db&quot;,
      &quot;fields&quot;: [
        {
          &quot;name&quot;: &quot;id&quot;,
          &quot;type&quot;: &quot;INTEGER&quot;,
          &quot;tags&quot;: [],
          &quot;description&quot;: &quot;The unique ID of the category.&quot;
        },
        {
          &quot;name&quot;: &quot;name&quot;,
          &quot;type&quot;: &quot;VARCHAR&quot;,
          &quot;tags&quot;: [],
          &quot;description&quot;: &quot;The name of the category.&quot;
        },
        {
          &quot;name&quot;: &quot;menu_id&quot;,
          &quot;type&quot;: &quot;INTEGER&quot;,
          &quot;tags&quot;: [],
          &quot;description&quot;: &quot;The ID of the menu related to the category.&quot;
        },
        {
          &quot;name&quot;: &quot;description&quot;,
          &quot;type&quot;: &quot;TEXT&quot;,
          &quot;tags&quot;: [],
          &quot;description&quot;: &quot;The description of the category.&quot;
        }
      ],
      &quot;tags&quot;: [],
      &quot;lastModifiedAt&quot;: &quot;2022-07-12T16:24:33.355699Z&quot;,
      &quot;lastLifecycleState&quot;: null,
      &quot;description&quot;: &quot;A table for categories.&quot;,
      &quot;currentVersion&quot;: &quot;aeccd013-c99e-45cf-86ba-97ed8cd28075&quot;,
      &quot;facets&quot;: {},
      &quot;deleted&quot;: false
    }, </code>
        </deckgo-highlight-code><h4 id="alt-specify-a-dataset">Alt: Specify a Dataset</h4><p>Queries about known datasets are also supported: <code>http://localhost:5000/api/v1/namespaces/{namespace}/datasets/{dataset}</code>.</p><p>To query the API concerning the <code>public.categories</code> dataset above, you would use: <code>curl http://localhost:5000/api/v1/namespaces/food_delivery/datasets/public.categories | jq</code>.</p><h4 id="dataset-query-output">Dataset Query Output</h4><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;id&quot;: {
    &quot;namespace&quot;: &quot;food_delivery&quot;,
    &quot;name&quot;: &quot;public.categories&quot;
  },
  &quot;type&quot;: &quot;DB_TABLE&quot;,
  &quot;name&quot;: &quot;public.categories&quot;,
  &quot;physicalName&quot;: &quot;public.categories&quot;,
  &quot;createdAt&quot;: &quot;2022-07-12T16:22:12.792434Z&quot;,
  &quot;updatedAt&quot;: &quot;2022-07-12T16:24:33.355699Z&quot;,
  &quot;namespace&quot;: &quot;food_delivery&quot;,
  &quot;sourceName&quot;: &quot;analytics_db&quot;,
  &quot;fields&quot;: [
    {
      &quot;name&quot;: &quot;id&quot;,
      &quot;type&quot;: &quot;INTEGER&quot;,
      &quot;tags&quot;: [],
      &quot;description&quot;: &quot;The unique ID of the category.&quot;
    },
    {
      &quot;name&quot;: &quot;name&quot;,
      &quot;type&quot;: &quot;VARCHAR&quot;,
      &quot;tags&quot;: [],
      &quot;description&quot;: &quot;The name of the category.&quot;
    },
    {
      &quot;name&quot;: &quot;menu_id&quot;,
      &quot;type&quot;: &quot;INTEGER&quot;,
      &quot;tags&quot;: [],
      &quot;description&quot;: &quot;The ID of the menu related to the category.&quot;
    },
    {
      &quot;name&quot;: &quot;description&quot;,
      &quot;type&quot;: &quot;TEXT&quot;,
      &quot;tags&quot;: [],
      &quot;description&quot;: &quot;The description of the category.&quot;
    }
  ],
  &quot;tags&quot;: [],
  &quot;lastModifiedAt&quot;: &quot;2022-07-12T16:24:33.355699Z&quot;,
  &quot;lastLifecycleState&quot;: null,
  &quot;description&quot;: &quot;A table for categories.&quot;,
  &quot;currentVersion&quot;: &quot;aeccd013-c99e-45cf-86ba-97ed8cd28075&quot;,
  &quot;facets&quot;: {},
  &quot;deleted&quot;: false
}</code>
        </deckgo-highlight-code><h4 id="view-key-data-about-jobs">View Key Data about Jobs</h4><p>The query to see all the jobs in the <code>food_delivery</code> namespace has the following format: <code>http://localhost:5000/api/v1/namespaces/{namespace}/jobs</code>.</p><p>To view all the jobs in <code>food_delivery</code> you could use: <code>curl http://localhost:5000/api/v1/namespaces/food_delivery/jobs | jq</code>.</p><h4 id="jobs-query-output">Jobs Query Output</h4><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;totalCount&quot;: 15,
  &quot;jobs&quot;: [
    {
      &quot;id&quot;: {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;example.delivery_times_7_days&quot;
      },
      &quot;type&quot;: &quot;BATCH&quot;,
      &quot;name&quot;: &quot;example.delivery_times_7_days&quot;,
      &quot;createdAt&quot;: &quot;2022-07-12T16:22:13.325864Z&quot;,
      &quot;updatedAt&quot;: &quot;2022-07-12T16:36:44.355699Z&quot;,
      &quot;namespace&quot;: &quot;food_delivery&quot;,
      &quot;inputs&quot;: [
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.delivery_7_days&quot;
        }
      ],
      &quot;outputs&quot;: [],
      &quot;location&quot;: &quot;https://github.com/example/jobs/blob/2294bc15eb49071f38425dc927e48655530a2f2e/delivery_times_7_days.py&quot;,
      &quot;context&quot;: {
        &quot;sql&quot;: &quot;INSERT INTO top_delivery_times (order_id, order_placed_on, order_dispatched_on, order_delivered_on, order_delivery_time,\n    customer_email, restaurant_id, driver_id)\n  SELECT order_id, order_placed_on, order_delivered_on, DATEDIFF(minute, order_placed_on, order_delivered_on) AS order_delivery_time,\n    customer_email, restaurant_id, driver_id\n    FROM delivery_7_days\nGROUP BY restaurant_id\nORDER BY order_delivery_time DESC\n   LIMIT 1;&quot;
      },
      &quot;description&quot;: &quot;Determine weekly top delivery times by restaurant.&quot;,
      &quot;latestRun&quot;: {
        &quot;id&quot;: &quot;5d75efd9-4ec6-4fcc-931a-0c67faec9f92&quot;,
        &quot;createdAt&quot;: &quot;2022-07-12T16:22:23.676635Z&quot;,
        &quot;updatedAt&quot;: &quot;2022-07-12T16:36:44.355699Z&quot;,
        &quot;nominalStartTime&quot;: &quot;2022-07-12T16:34:00Z&quot;,
        &quot;nominalEndTime&quot;: &quot;2022-07-12T16:36:00Z&quot;,
        &quot;state&quot;: &quot;FAILED&quot;,
        &quot;startedAt&quot;: &quot;2022-07-12T16:34:13.355699Z&quot;,
        &quot;endedAt&quot;: &quot;2022-07-12T16:36:44.355699Z&quot;,
        &quot;durationMs&quot;: 151000,
        &quot;args&quot;: {},
        &quot;jobVersion&quot;: {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;example.delivery_times_7_days&quot;,
          &quot;version&quot;: &quot;e9eafa5b-e334-358d-a3b4-61c8d3de75f3&quot;
        },
        &quot;inputVersions&quot;: [
          {
            &quot;namespace&quot;: &quot;food_delivery&quot;,
            &quot;name&quot;: &quot;public.delivery_7_days&quot;,
            &quot;version&quot;: &quot;581a0b65-c46a-3087-8d27-4c6e9899c64c&quot;
          }
        ],
        &quot;outputVersions&quot;: [],
        &quot;context&quot;: {
          &quot;sql&quot;: &quot;INSERT INTO top_delivery_times (order_id, order_placed_on, order_dispatched_on, order_delivered_on, order_delivery_time,\n    customer_email, restaurant_id, driver_id)\n  SELECT order_id, order_placed_on, order_delivered_on, DATEDIFF(minute, order_placed_on, order_delivered_on) AS order_delivery_time,\n    customer_email, restaurant_id, driver_id\n    FROM delivery_7_days\nGROUP BY restaurant_id\nORDER BY order_delivery_time DESC\n   LIMIT 1;&quot;
        },
        &quot;facets&quot;: {}
      },
      &quot;facets&quot;: {},
      &quot;currentVersion&quot;: &quot;a4d1a0fc-1d6c-4904-a94c-7776f78f4435&quot;
    }, </code>
        </deckgo-highlight-code><p>As with datasets, you can query the API for a specific job by appending the job name to the query above.</p><h4 id="get-a-lineage-graph">Get a Lineage Graph</h4><p>The lineage graph is the basis of the UI’s visualization of a pipeline. To view a lineage graph, query the API with either a dataset or job specified as the <code>nodeId</code>. </p><h5 id="job-query">Job Query</h5><deckgo-highlight-code terminal="carbon">
          <code slot="code">NODE=”job:food_delivery:example.etl_delivery_7_days”
curl -s &quot;http://localhost:5000/api/v1/lineage?nodeId=$NODE&quot; | jq –arg N “${NODE}” ‘.graph[] | select(.id==$N)’</code>
        </deckgo-highlight-code><h5 id="job-query-output">Job Query Output</h5><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;id&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;,
  &quot;type&quot;: &quot;JOB&quot;,
  &quot;data&quot;: {
    &quot;type&quot;: &quot;BATCH&quot;,
    &quot;id&quot;: {
      &quot;namespace&quot;: &quot;food_delivery&quot;,
      &quot;name&quot;: &quot;example.etl_delivery_7_days&quot;
    },
    &quot;name&quot;: &quot;example.etl_delivery_7_days&quot;,
    &quot;createdAt&quot;: &quot;2022-07-13T13:38:40.059605Z&quot;,
    &quot;updatedAt&quot;: &quot;2022-07-13T13:49:45.103063Z&quot;,
    &quot;namespace&quot;: &quot;food_delivery&quot;,
    &quot;inputs&quot;: [
      {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.restaurants&quot;
      },
      {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.customers&quot;
      },
      {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.drivers&quot;
      },
      {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.order_status&quot;
      },
      {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.orders_7_days&quot;
      }
    ],
    &quot;outputs&quot;: [
      {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;public.delivery_7_days&quot;
      }
    ],
    &quot;location&quot;: &quot;https://github.com/example/jobs/blob/c87f2a40553cfa4ae7178083a068bf1d0c6ca3a8/etl_delivery_7_days.py&quot;,
    &quot;context&quot;: {
      &quot;sql&quot;: &quot;INSERT INTO delivery (order_id, order_placed_on, order_dispatched_on, order_delivered_on, customer_email,\n      customer_address, discount_id, menu_id, restaurant_id, restaurant_address, menu_item_id, category_id, driver_id)\n  SELECT o.order_id, o.placed_on AS order_placed_on,\n    (SELECT transitioned_at FROM order_status WHERE order_id == o.order_id AND status = &#x27;DISPATCHED&#x27;) AS order_dispatched_on,\n    (SELECT transitioned_at FROM order_status WHERE order_id == o.order_id AND status = &#x27;DELIVERED&#x27;) AS order_delivered_on,\n    c.email AS customer_email, c.address AS customer_address, o.discount_id, o.menu_id, o.restaurant_id,\n      r.address, o.menu_item_id, o.category_id, d.id AS driver_id\n    FROM orders_7_days AS o\n   INNER JOIN order_status AS os\n      ON os.order_id = o.order_id\n   INNER JOIN customers AS c\n      ON c.id = os.customer_id\n   INNER JOIN restaurants AS r\n      ON r.id = os.restaurant_id\n   INNER JOIN drivers AS d\n      ON d.id = os.driver_id\n   WHERE os.transitioned_at &gt;= NOW() - interval &#x27;7 days&#x27;;&quot;
    },
    &quot;description&quot;: &quot;Loads new deliveries for the week.&quot;,
    &quot;latestRun&quot;: {
      &quot;id&quot;: &quot;ad65c352-ae92-41d3-9795-d31639f816d2&quot;,
      &quot;createdAt&quot;: &quot;2022-07-13T13:38:49.962723Z&quot;,
      &quot;updatedAt&quot;: &quot;2022-07-13T13:49:45.103063Z&quot;,
      &quot;nominalStartTime&quot;: &quot;2022-07-13T13:46:00Z&quot;,
      &quot;nominalEndTime&quot;: &quot;2022-07-13T13:49:00Z&quot;,
      &quot;state&quot;: &quot;COMPLETED&quot;,
      &quot;startedAt&quot;: &quot;2022-07-13T13:46:40.103063Z&quot;,
      &quot;endedAt&quot;: &quot;2022-07-13T13:49:45.103063Z&quot;,
      &quot;durationMs&quot;: 185000,
      &quot;args&quot;: {},
      &quot;jobVersion&quot;: {
        &quot;namespace&quot;: &quot;food_delivery&quot;,
        &quot;name&quot;: &quot;example.etl_delivery_7_days&quot;,
        &quot;version&quot;: &quot;c222a72e-92cc-3bb6-b3b7-c174cbc76387&quot;
      },
      &quot;inputVersions&quot;: [
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.order_status&quot;,
          &quot;version&quot;: &quot;ee4d0794-c7e8-3bdd-94f5-83a43f1eb6f6&quot;
        },
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.restaurants&quot;,
          &quot;version&quot;: &quot;7f5d9f89-202a-305d-a338-2423269af7bf&quot;
        },
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.orders_7_days&quot;,
          &quot;version&quot;: &quot;777358f4-1669-33fa-88f4-780d00d34f15&quot;
        },
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.drivers&quot;,
          &quot;version&quot;: &quot;32343496-969e-3f66-9ad7-13cabf16ca26&quot;
        },
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.customers&quot;,
          &quot;version&quot;: &quot;db58139b-6eec-3efb-b589-d3cad7138ae4&quot;
        }
      ],
      &quot;outputVersions&quot;: [
        {
          &quot;namespace&quot;: &quot;food_delivery&quot;,
          &quot;name&quot;: &quot;public.delivery_7_days&quot;,
          &quot;version&quot;: &quot;047484a8-33f6-3b1f-bd78-584e8705a756&quot;
        }
      ],
      &quot;context&quot;: {
        &quot;sql&quot;: &quot;INSERT INTO delivery (order_id, order_placed_on, order_dispatched_on, order_delivered_on, customer_email,\n      customer_address, discount_id, menu_id, restaurant_id, restaurant_address, menu_item_id, category_id, driver_id)\n  SELECT o.order_id, o.placed_on AS order_placed_on,\n    (SELECT transitioned_at FROM order_status WHERE order_id == o.order_id AND status = &#x27;DISPATCHED&#x27;) AS order_dispatched_on,\n    (SELECT transitioned_at FROM order_status WHERE order_id == o.order_id AND status = &#x27;DELIVERED&#x27;) AS order_delivered_on,\n    c.email AS customer_email, c.address AS customer_address, o.discount_id, o.menu_id, o.restaurant_id,\n      r.address, o.menu_item_id, o.category_id, d.id AS driver_id\n    FROM orders_7_days AS o\n   INNER JOIN order_status AS os\n      ON os.order_id = o.order_id\n   INNER JOIN customers AS c\n      ON c.id = os.customer_id\n   INNER JOIN restaurants AS r\n      ON r.id = os.restaurant_id\n   INNER JOIN drivers AS d\n      ON d.id = os.driver_id\n   WHERE os.transitioned_at &gt;= NOW() - interval &#x27;7 days&#x27;;&quot;
      },
      &quot;facets&quot;: {}
    }
  },
  &quot;inEdges&quot;: [
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.customers&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;
    },
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.drivers&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;
    },
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.order_status&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;
    },
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.orders_7_days&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;
    },
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.restaurants&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;
    }
  ],
  &quot;outEdges&quot;: [
    {
      &quot;origin&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;,
      &quot;destination&quot;: &quot;dataset:food_delivery:public.delivery_7_days&quot;
    }
  ]
}</code>
        </deckgo-highlight-code><h5 id="dataset-query">Dataset Query</h5><deckgo-highlight-code terminal="carbon">
          <code slot="code">NODE=”dataset:food_delivery:public.customers”
curl -s &quot;http://localhost:5000/api/v1/lineage?nodeId=$NODE&quot; | jq –arg N “${NODE}” ‘.graph[] | select(.id==$N)’</code>
        </deckgo-highlight-code><h5 id="dataset-query-output-1">Dataset Query Output</h5><deckgo-highlight-code terminal="carbon">
          <code slot="code">{
  &quot;id&quot;: &quot;dataset:food_delivery:public.customers&quot;,
  &quot;type&quot;: &quot;DATASET&quot;,
  &quot;data&quot;: {
    &quot;type&quot;: &quot;DB_TABLE&quot;,
    &quot;id&quot;: {
      &quot;namespace&quot;: &quot;food_delivery&quot;,
      &quot;name&quot;: &quot;public.customers&quot;
    },
    &quot;name&quot;: &quot;public.customers&quot;,
    &quot;physicalName&quot;: &quot;public.customers&quot;,
    &quot;createdAt&quot;: &quot;2022-07-13T13:38:39.681949Z&quot;,
    &quot;updatedAt&quot;: &quot;2022-07-13T13:46:09.103063Z&quot;,
    &quot;namespace&quot;: &quot;food_delivery&quot;,
    &quot;sourceName&quot;: &quot;analytics_db&quot;,
    &quot;fields&quot;: [
      {
        &quot;name&quot;: &quot;id&quot;,
        &quot;type&quot;: &quot;INTEGER&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;The unique ID of the customer.&quot;
      },
      {
        &quot;name&quot;: &quot;created_at&quot;,
        &quot;type&quot;: &quot;TIMESTAMP&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;An ISO-8601 timestamp representing the date/time the customer was created.&quot;
      },
      {
        &quot;name&quot;: &quot;updated_at&quot;,
        &quot;type&quot;: &quot;TIMESTAMP&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;An ISO-8601 timestamp representing the date/time the customer was updated.&quot;
      },
      {
        &quot;name&quot;: &quot;name&quot;,
        &quot;type&quot;: &quot;VARCHAR&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;The name of the customer.&quot;
      },
      {
        &quot;name&quot;: &quot;email&quot;,
        &quot;type&quot;: &quot;VARCHAR&quot;,
        &quot;tags&quot;: [
          &quot;PII&quot;
        ],
        &quot;description&quot;: &quot;The email address of the customer.&quot;
      },
      {
        &quot;name&quot;: &quot;address&quot;,
        &quot;type&quot;: &quot;VARCHAR&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;The address of the customer.&quot;
      },
      {
        &quot;name&quot;: &quot;phone&quot;,
        &quot;type&quot;: &quot;VARCHAR&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;The phone number of the customer.&quot;
      },
      {
        &quot;name&quot;: &quot;city_id&quot;,
        &quot;type&quot;: &quot;INTEGER&quot;,
        &quot;tags&quot;: [],
        &quot;description&quot;: &quot;The ID of the city related to the customer.&quot;
      }
    ],
    &quot;tags&quot;: [],
    &quot;lastModifiedAt&quot;: &quot;2022-07-13T13:46:09.103063Z&quot;,
    &quot;description&quot;: &quot;A table for customers.&quot;,
    &quot;lastlifecycleState&quot;: null
  },
  &quot;inEdges&quot;: [
    {
      &quot;origin&quot;: &quot;job:food_delivery:example.etl_customers&quot;,
      &quot;destination&quot;: &quot;dataset:food_delivery:public.customers&quot;
    }
  ],
  &quot;outEdges&quot;: [
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.customers&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.email_discounts&quot;
    },
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.customers&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.etl_delivery_7_days&quot;
    },
    {
      &quot;origin&quot;: &quot;dataset:food_delivery:public.customers&quot;,
      &quot;destination&quot;: &quot;job:food_delivery:example.orders_popular_day_of_week&quot;
    }
  ]
}</code>
        </deckgo-highlight-code><h2 id="additional-resources">Additional Resources</h2><p>For a list of all the available queries and more information about the API, see the Marquez API Reference: <a href="https://marquezproject.github.io/marquez/openapi.html">https://marquezproject.github.io/marquez/openapi.html</a>.</p><p>Interested in contributing to the project? Read our guide for new contributors: <a href="https://github.com/MarquezProject/marquez/blob/main/CONTRIBUTING.md">https://github.com/MarquezProject/marquez/blob/main/CONTRIBUTING.md</a>.</p><p>Join us on Slack: <a href="http://bit.ly/MarquezSlack">http://bit.ly/MarquezSlack</a>.</p></div></div><footer class="border-t-2 border-dashed border-color-2 footer py-12"><div class="container mx-auto text-center"><div class="text-color-1 my-3"><ul><li class="inline-block mx-3 animated-link-parent"><a href="https://twitter.com/MarquezProject" title="Twitter"><span>Twitter</span></a></li><li class="inline-block mx-3 animated-link-parent"><a href="https://bit.ly/MarquezSlack" title="Slack"><span>Slack</span></a></li><li class="inline-block mx-3 animated-link-parent"><a href="https://github.com/MarquezProject/marquez" title="GitHub"><span>GitHub</span></a></li></ul></div><p class="text-color-default text-lg">Copyright © <!-- -->2022<!-- --> The Linux Foundation<sup>®</sup>. All rights reserved.</p></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9S43L0BB9X"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-9S43L0BB9X', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/api-blog-post/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d048e943dcbe51d1a03b.js"],"app":["/app-362bd674f08f21641d7a.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-4c00d3f0382605017f8b.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-7af9c7d672a6387d7ad7.js"],"component---src-templates-basepages-tsx":["/component---src-templates-basepages-tsx-bf2384604201bfe767bd.js"],"component---src-templates-blog-list-tsx":["/component---src-templates-blog-list-tsx-ea9b093179436a478287.js"],"component---src-templates-blog-tsx":["/component---src-templates-blog-tsx-6c41e7024dcdbf7fa067.js"]};/*]]>*/</script><script src="/polyfill-d048e943dcbe51d1a03b.js" nomodule=""></script><script src="/component---src-templates-blog-tsx-6c41e7024dcdbf7fa067.js" async=""></script><script src="/03af1e3b4838e2bf1feefdfdd4602b9a79f8e4c9-eb104fccfa73bc3dade9.js" async=""></script><script src="/commons-160ea55db53334d242c4.js" async=""></script><script src="/app-362bd674f08f21641d7a.js" async=""></script><script src="/framework-0a19e5c2f20522c0675d.js" async=""></script><script src="/webpack-runtime-381590b05a30c0c6b02e.js" async=""></script></body></html>